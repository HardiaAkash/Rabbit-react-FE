"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[14],{7014:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(9379),o=t(5043),l=t(7859),n=t(1518),r=t(49),i=t(6580),c=t(579);const d=function(){const{dispatchUser:e}=(0,o.useContext)(l.R),{dispatchAlert:s}=(0,o.useContext)(n.C),{user:t}=(0,r.Jd)();(0,o.useEffect)((()=>{t&&(window.location.href="/profile")}),[t]);const[d,p]=(0,o.useState)({email:"",password:""}),u=e=>{const{name:s,value:t}=e.target;p((e=>(0,a.A)((0,a.A)({},e),{},{[s]:t})))};return(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"mt-20",children:[(0,c.jsx)("h1",{className:"font-bold text-3xl mb-5",children:"Log in"}),(0,c.jsx)("p",{className:"mb-8",children:"Enter your details below to log in"}),(0,c.jsxs)("form",{className:"space-y-3",onSubmit:async t=>{t.preventDefault();try{e({type:"LOADING"});const t=await fetch("http://localhost:5000/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});p({username:"",email:"",password:""});const a=await t.json();if(!a.success)throw new Error(a.error);setTimeout((()=>{s({type:"SHOW",payload:"Log in successful",variant:"Success"}),e({type:"LOG_IN",payload:a.data}),window.location.href="/profile"}),3e3),console.log(a)}catch(a){s({type:"SHOW",payload:a.message,variant:"Warning"}),e({type:"ERROR"}),console.log(a)}},children:[(0,c.jsx)("input",{className:"block py-2 px-5 rounded-lg border-2 border-slate-400 focus:border-purple-700 outline-none transition-all duration-200",type:"email",name:"email",placeholder:"Email address",value:d.email,onChange:u}),(0,c.jsx)("input",{className:"block py-2 px-5 rounded-lg border-2 border-slate-400 focus:border-purple-700 outline-none transition-all duration-200",type:"password",name:"password",placeholder:"Password",value:d.password,onChange:u}),(0,c.jsx)("button",{className:"block w-full bg-purple-700 text-white font-medium text-lg py-2 px-5 rounded-3xl",type:"submit",children:"Log in"})]}),(0,c.jsxs)("p",{className:"mt-5",children:["Or ",(0,c.jsx)(i.N_,{to:"/register",children:"Register"})]})]})})}}}]);
//# sourceMappingURL=14.0d299927.chunk.js.map