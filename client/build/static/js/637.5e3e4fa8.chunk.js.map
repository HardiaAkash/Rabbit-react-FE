{"version":3,"file":"static/js/637.5e3e4fa8.chunk.js","mappings":"qKA0GA,QAvGA,WACE,MAAOA,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,CAAEC,SAAU,GAAIC,SAAU,MAC5DC,EAAOC,IAAYJ,EAAAA,EAAAA,WAAS,IAC5BK,EAAWC,IAAgBN,EAAAA,EAAAA,WAAS,IAErC,cAAEO,IAAkBC,EAAAA,EAAAA,MAkDpBC,EAAgBC,IACpB,MAAM,KAAEC,EAAI,MAAEC,GAAUF,EAAEG,OAC1Bd,GAAae,IACXC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAYD,GAAS,IAAE,CAACH,GAAOC,KAC/B,EAGJ,OACEI,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mDAAkDC,UAC/DC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,6BAA4BC,SAAC,uBAC3CF,EAAAA,EAAAA,KAAA,KAAAE,SAAIf,GAAS,0BACbgB,EAAAA,EAAAA,MAAA,QAAMC,SA5DSC,UACnB,MAAMC,EAAQC,KAAKC,MAAMC,aAAaC,QAAQ,SAASJ,MAGvDZ,EAAEiB,iBACFrB,GAAa,GACb,IACE,MAAMsB,QAAYC,MAChB,sCAAAC,OACsC7B,SAAQ,SAC9C,CACE8B,OAAQ,OACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAADJ,OAAYR,IAE3Ba,KAAMZ,KAAKa,UAAUtC,KAInBuC,QAAeT,EAAIU,OACzBC,QAAQC,IAAIH,EAYd,CAAE,MAAOlC,GACPoC,QAAQC,IAAIrC,EAAMsC,SAClBlC,EAAc,CACZmC,KAAM,OACND,QAAStC,EAAMsC,QACfE,QAAS,WAEXvC,GAAS,EACX,CAAC,QACCE,GAAa,GACbF,GAAS,EACX,GAeiCc,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,SAAOyB,QAAQ,WAAW3B,UAAU,kBAAiBC,SAAA,CAAC,WAC3C,QAEXF,EAAAA,EAAAA,KAAA,SACE0B,KAAK,OACL/B,KAAK,WACLkC,GAAG,WACH5B,UAAU,8BACV6B,YAAY,qBACZC,SAAUtC,KAEZU,EAAAA,EAAAA,MAAA,SAAOyB,QAAQ,WAAW3B,UAAU,kBAAiBC,SAAA,CAAC,WAC3C,QAEXF,EAAAA,EAAAA,KAAA,SACE0B,KAAK,WACL/B,KAAK,WACLkC,GAAG,WACH5B,UAAU,mCACV6B,YAAY,qBACZC,SAAUtC,KAEZO,EAAAA,EAAAA,KAAA,UACEgC,QAASA,IAAMC,MAAM,QACrBhC,UAAU,iFACVyB,KAAK,SAAQxB,SAEZb,EAAY,SAAW,gBAMpC,C","sources":["pages/Edit.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useAlert } from \"../hooks/Hooks\";\n\nfunction Edit() {\n  const [formData, setFormData] = useState({ username: \"\", password: \"\" });\n  const [error, setError] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { dispatchAlert } = useAlert();\n\n  const handleSubmit = async (e) => {\n    const token = JSON.parse(localStorage.getItem(\"user\")).token\n\n\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      const res = await fetch(\n        // eslint-disable-next-line no-undef\n        `http://localhost:5000/api/v1/users/${username}/edit`,\n        {\n          method: \"POST\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify(formData),\n        }\n      );\n\n      const result = await res.json();\n      console.log(result);\n      // if (res.ok) {\n      //   dispatchAlert({\n      //     type: \"SHOW\",\n      //     message: \"Details updated successfully\",\n      //     variant: \"Success\",\n      //   });\n      //   window.location.href = \"/profile\";\n      // } else {\n      //   setError(true);\n      //   throw new Error(\"Failed to update details\");\n      // }\n    } catch (error) {\n      console.log(error.message);\n      dispatchAlert({\n        type: \"SHOW\",\n        message: error.message,\n        variant: \"Danger\",\n      });\n      setError(true)\n    } finally {\n      setIsLoading(false);\n      setError(false)\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prevState) => {\n      return { ...prevState, [name]: value };\n    });\n  };\n\n  return (\n    <div className=\"flex justify-center mx-auto mt-20 p-10 max-w-2xl\">\n      <div>\n        <h2 className=\"font-semibold text-xl mt-5\">Edit your details</h2>\n        <p>{error && \"Something went wrong\"}</p>\n        <form onSubmit={handleSubmit}>\n          <label htmlFor=\"username\" className=\"block mb-2 mt-4\">\n            Username{\" \"}\n          </label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            id=\"username\"\n            className=\"p-2 border rounded-md block\"\n            placeholder=\"Enter new username\"\n            onChange={handleChange}\n          />\n          <label htmlFor=\"password\" className=\"block mb-2 mt-4\">\n            Password{\" \"}\n          </label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            className=\"p-2 border rounded-md block mb-4\"\n            placeholder=\"Enter new password\"\n            onChange={handleChange}\n          />\n          <button\n            onClick={() => alert(\"Hehe\")}\n            className=\" right-10 bg-red-700 text-white font-medium text-lg px-5 h-10 w-28 rounded-3xl\"\n            type=\"submit\"\n          >\n            {isLoading ? \"Saving\" : \"Save\"}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Edit;\n"],"names":["formData","setFormData","useState","username","password","error","setError","isLoading","setIsLoading","dispatchAlert","useAlert","handleChange","e","name","value","target","prevState","_objectSpread","_jsx","className","children","_jsxs","onSubmit","async","token","JSON","parse","localStorage","getItem","preventDefault","res","fetch","concat","method","headers","Accept","Authorization","body","stringify","result","json","console","log","message","type","variant","htmlFor","id","placeholder","onChange","onClick","alert"],"sourceRoot":""}