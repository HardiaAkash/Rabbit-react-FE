{"version":3,"file":"static/js/490.8b99672a.chunk.js","mappings":"oMA0HA,QApHA,WACE,MAAM,aAAEA,IAAiBC,EAAAA,EAAAA,YAAWC,EAAAA,IAC9B,cAAEC,IAAkBF,EAAAA,EAAAA,YAAWG,EAAAA,IAE/B,KAAEC,IAASC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,KACJF,IACFG,OAAOC,SAASC,KAAO,WACzB,GACC,CAACL,IAEJ,MAAOM,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,CAC7CC,SAAU,GACVC,MAAO,GACPC,SAAU,KA+CNC,EAAgBC,IACpB,MAAM,KAAEC,EAAI,MAAEC,GAAUF,EAAEG,OAE1BT,GAAgBU,IACdC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACKD,GAAS,IACZ,CAACH,GAAOC,KAEV,EAGJ,OACEI,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBC,UAClCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,QAAOC,SAAA,EACpBF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,0BAAyBC,SAAC,cACxCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,OAAMC,SAAC,2BACpBC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,YAAYG,SA5DbC,UACnBX,EAAEY,iBAEF,IACE9B,EAAa,CAAE+B,KAAM,YACrB,MAAMC,QAAYC,MAAM,6CAA8C,CACpEC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU3B,KAGjB4B,QAAeP,EAAIQ,OAEzB,IAAKD,EAAOE,QACV,MAAM,IAAIC,MAAMH,EAAOI,OAGzBC,YAAW,KACT5C,EAAa,CAAE+B,KAAM,SAAUc,QAASN,EAAOO,OAC/C3C,EAAc,CACZ4B,KAAM,OACNc,QAASN,EAAOQ,QAChBC,QAAS,YAEXpC,EAAe,CACbE,SAAU,GACVC,MAAO,GACPC,SAAU,KAEZR,OAAOC,SAASC,KAAO,UAAU,GAChC,IACL,CAAE,MAAOuC,GACP9C,EAAc,CACZ4B,KAAM,OACNc,QAASI,EAAIF,QACbC,QAAS,YAEXhD,EAAa,CAAE+B,KAAM,UACrBmB,QAAQC,IAAIF,EACd,GAmBuDvB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SACEC,UAAU,wHACVM,KAAK,QACLZ,KAAK,QACLiC,YAAY,gBACZhC,MAAOT,EAAYI,MACnBsC,SAAUpC,KAEZO,EAAAA,EAAAA,KAAA,SACEC,UAAU,wHACVM,KAAK,OACLZ,KAAK,WACLiC,YAAY,WACZhC,MAAOT,EAAYG,SACnBuC,SAAUpC,KAEZO,EAAAA,EAAAA,KAAA,SACEC,UAAU,wHACVM,KAAK,WACLZ,KAAK,WACLiC,YAAY,WACZhC,MAAOT,EAAYK,SACnBqC,SAAUpC,KAEZO,EAAAA,EAAAA,KAAA,UACEC,UAAU,kFACVM,KAAK,SAAQL,SACd,iBAIHC,EAAAA,EAAAA,MAAA,KAAGF,UAAU,OAAMC,SAAA,CAAC,OAAGF,EAAAA,EAAAA,KAAC8B,EAAAA,GAAI,CAACC,GAAG,SAAQ7B,SAAC,iBAIjD,C","sources":["pages/Register.jsx"],"sourcesContent":["import { useState, useContext, useEffect } from \"react\";\nimport { UserContext } from \"../context/UserContext\";\nimport { AlertContext } from \"../context/AlertContext\";\nimport { useAppState, useUser } from \"../hooks/Hooks\";\nimport { Link } from \"react-router-dom\";\n\nfunction Login() {\n  const { dispatchUser } = useContext(UserContext);\n  const { dispatchAlert } = useContext(AlertContext);\n\n  const { user } = useUser();\n\n  useEffect(() => {\n    if (user) {\n      window.location.href = \"/profile\";\n    }\n  }, [user]);\n\n  const [userDetails, setUserDetails] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      dispatchUser({ type: \"LOADING\" });\n      const res = await fetch(\"http://localhost:5000/api/v1/auth/register\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(userDetails),\n      });\n\n      const result = await res.json();\n\n      if (!result.success) {\n        throw new Error(result.error);\n      }\n\n      setTimeout(() => {\n        dispatchUser({ type: \"LOG_IN\", payload: result.data });\n        dispatchAlert({\n          type: \"SHOW\",\n          payload: result.message,\n          variant: \"Success\",\n        });\n        setUserDetails({\n          username: \"\",\n          email: \"\",\n          password: \"\",\n        });\n        window.location.href = \"/profile\";\n      }, 3000);\n    } catch (err) {\n      dispatchAlert({\n        type: \"SHOW\",\n        payload: err.message,\n        variant: \"Warning\",\n      });\n      dispatchUser({ type: \"ERROR\" });\n      console.log(err);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setUserDetails((prevState) => {\n      return {\n        ...prevState,\n        [name]: value,\n      };\n    });\n  };\n\n  return (\n    <div className=\"flex justify-center\">\n      <div className=\"mt-20\">\n        <h1 className=\"font-bold text-3xl mb-5\">Register</h1>\n        <p className=\"mb-8\">Let's get you started</p>\n        <form className=\"space-y-3\" onSubmit={handleSubmit}>\n          <input\n            className=\"block py-2 px-5 rounded-lg border-2 border-slate-400 focus:border-purple-700 outline-none transition-all duration-200\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email address\"\n            value={userDetails.email}\n            onChange={handleChange}\n          />\n          <input\n            className=\"block py-2 px-5 rounded-lg border-2 border-slate-400 focus:border-purple-700 outline-none transition-all duration-200\"\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"Username\"\n            value={userDetails.username}\n            onChange={handleChange}\n          />\n          <input\n            className=\"block py-2 px-5 rounded-lg border-2 border-slate-400 focus:border-purple-700 outline-none transition-all duration-200\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            value={userDetails.password}\n            onChange={handleChange}\n          />\n          <button\n            className=\"block w-full bg-purple-700 text-white font-medium text-lg py-2 px-5 rounded-3xl\"\n            type=\"submit\"\n          >\n            Register\n          </button>\n        </form>\n        <p className=\"mt-5\">Or <Link to=\"/login\">Login</Link></p>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"names":["dispatchUser","useContext","UserContext","dispatchAlert","AlertContext","user","useUser","useEffect","window","location","href","userDetails","setUserDetails","useState","username","email","password","handleChange","e","name","value","target","prevState","_objectSpread","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","type","res","fetch","method","headers","body","JSON","stringify","result","json","success","Error","error","setTimeout","payload","data","message","variant","err","console","log","placeholder","onChange","Link","to"],"sourceRoot":""}