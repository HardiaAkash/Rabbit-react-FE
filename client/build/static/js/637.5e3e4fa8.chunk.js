"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[637],{637:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(9379),n=s(5043),o=s(49),r=s(579);const l=function(){const[e,t]=(0,n.useState)({username:"",password:""}),[s,l]=(0,n.useState)(!1),[c,i]=(0,n.useState)(!1),{dispatchAlert:d}=(0,o.MW)(),m=e=>{const{name:s,value:n}=e.target;t((e=>(0,a.A)((0,a.A)({},e),{},{[s]:n})))};return(0,r.jsx)("div",{className:"flex justify-center mx-auto mt-20 p-10 max-w-2xl",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-xl mt-5",children:"Edit your details"}),(0,r.jsx)("p",{children:s&&"Something went wrong"}),(0,r.jsxs)("form",{onSubmit:async t=>{const a=JSON.parse(localStorage.getItem("user")).token;t.preventDefault(),i(!0);try{const t=await fetch("http://localhost:5000/api/v1/users/".concat(username,"/edit"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(e)}),s=await t.json();console.log(s)}catch(s){console.log(s.message),d({type:"SHOW",message:s.message,variant:"Danger"}),l(!0)}finally{i(!1),l(!1)}},children:[(0,r.jsxs)("label",{htmlFor:"username",className:"block mb-2 mt-4",children:["Username"," "]}),(0,r.jsx)("input",{type:"text",name:"username",id:"username",className:"p-2 border rounded-md block",placeholder:"Enter new username",onChange:m}),(0,r.jsxs)("label",{htmlFor:"password",className:"block mb-2 mt-4",children:["Password"," "]}),(0,r.jsx)("input",{type:"password",name:"password",id:"password",className:"p-2 border rounded-md block mb-4",placeholder:"Enter new password",onChange:m}),(0,r.jsx)("button",{onClick:()=>alert("Hehe"),className:" right-10 bg-red-700 text-white font-medium text-lg px-5 h-10 w-28 rounded-3xl",type:"submit",children:c?"Saving":"Save"})]})]})})}}}]);
//# sourceMappingURL=637.5e3e4fa8.chunk.js.map