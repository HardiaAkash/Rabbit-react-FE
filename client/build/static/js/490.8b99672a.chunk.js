"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[490],{5490:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var t=a(9379),r=a(5043),o=a(7859),n=a(1518),l=a(49),i=a(6580),d=a(579);const c=function(){const{dispatchUser:e}=(0,r.useContext)(o.R),{dispatchAlert:s}=(0,r.useContext)(n.C),{user:a}=(0,l.Jd)();(0,r.useEffect)((()=>{a&&(window.location.href="/profile")}),[a]);const[c,p]=(0,r.useState)({username:"",email:"",password:""}),u=e=>{const{name:s,value:a}=e.target;p((e=>(0,t.A)((0,t.A)({},e),{},{[s]:a})))};return(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsxs)("div",{className:"mt-20",children:[(0,d.jsx)("h1",{className:"font-bold text-3xl mb-5",children:"Register"}),(0,d.jsx)("p",{className:"mb-8",children:"Let's get you started"}),(0,d.jsxs)("form",{className:"space-y-3",onSubmit:async a=>{a.preventDefault();try{e({type:"LOADING"});const a=await fetch("http://localhost:5000/api/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),t=await a.json();if(!t.success)throw new Error(t.error);setTimeout((()=>{e({type:"LOG_IN",payload:t.data}),s({type:"SHOW",payload:t.message,variant:"Success"}),p({username:"",email:"",password:""}),window.location.href="/profile"}),3e3)}catch(t){s({type:"SHOW",payload:t.message,variant:"Warning"}),e({type:"ERROR"}),console.log(t)}},children:[(0,d.jsx)("input",{className:"block py-2 px-5 rounded-lg border-2 border-slate-400 focus:border-purple-700 outline-none transition-all duration-200",type:"email",name:"email",placeholder:"Email address",value:c.email,onChange:u}),(0,d.jsx)("input",{className:"block py-2 px-5 rounded-lg border-2 border-slate-400 focus:border-purple-700 outline-none transition-all duration-200",type:"text",name:"username",placeholder:"Username",value:c.username,onChange:u}),(0,d.jsx)("input",{className:"block py-2 px-5 rounded-lg border-2 border-slate-400 focus:border-purple-700 outline-none transition-all duration-200",type:"password",name:"password",placeholder:"Password",value:c.password,onChange:u}),(0,d.jsx)("button",{className:"block w-full bg-purple-700 text-white font-medium text-lg py-2 px-5 rounded-3xl",type:"submit",children:"Register"})]}),(0,d.jsxs)("p",{className:"mt-5",children:["Or ",(0,d.jsx)(i.N_,{to:"/login",children:"Login"})]})]})})}}}]);
//# sourceMappingURL=490.8b99672a.chunk.js.map